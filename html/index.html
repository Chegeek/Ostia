<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="js/charts/liveChart.js"></script>
    <script>

    // TODO: Create some sort of updating/reset function for highcharts,
    //        currently the data changes, but the chart won't reset
    var socket = io.connect('http://localhost:3000');
      function Graph(data){
        var exchange = data;

        // Closing the previous exchange feed and starting the new one
        socket.emit('closeExchange', {data: null});
        socket.emit('openExchange', {data: exchange});
      }
    </script>

</head>

<body>

    <h1>Live stock chart using HighchartsJS</h1>
    <button onclick="Graph('poloniex')">Polo</button>
    <button onclick="Graph('kraken')">Krak</button>
    <button onclick="Graph('gdax')">GDAX</button>
    <button onclick="Graph('bitfinex')">Bitf</button>
    <div id="container" style="height: 400px; min-width: 310px; max-width: 1200px;"></div>

</body>

</html>
